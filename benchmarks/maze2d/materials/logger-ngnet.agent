
// ngnet, lmanager must be defined before this file

module  MMinMaxElementRv                     , minmax_elem
module  MNonzeroElements_TRealVector         , ngnet_nonzero
module  MNonzeroElementsCounter_TRealVector  , ngnet_nonzero_cnt
module  MUniversalDataLogger                 , logger_ngnet

/// initialization process:
connect  lmanager.signal_initialization     , logger_ngnet.slot_initialize

/// learning signals:
connect  behavior.signal_end_of_action      , logger_ngnet.slot_log
connect  behavior.signal_end_of_episode     , logger_ngnet.slot_newline

/// I/O:
connect  tr_ngnet.out_y                     , minmax_elem.in_1
connect  tr_ngnet.out_y                     , ngnet_nonzero.in_x
connect  tr_ngnet.out_y                     , ngnet_nonzero_cnt.in_x

connect  lmanager.out_episode_number        , logger_ngnet.in_data_int
connect  timer.out_cont_time                , logger_ngnet.in_data_real
connect  minmax_elem.out_max_index          , logger_ngnet.in_data_int
connect  minmax_elem.out_max_value          , logger_ngnet.in_data_real
connect  ngnet_nonzero_cnt.out_y            , logger_ngnet.in_data_int
connect  ngnet_nonzero.out_y                , logger_ngnet.in_data_real_vector
connect  tr_state.out_x                     , logger_ngnet.in_data_real_vector

ngnet_nonzero.config ={
    Threshold = 0.01
  }

logger_ngnet.config ={
    FileName = "log-ngnet.dat"
    OrderOfColumns ={
        ["lmanager.out_episode_number"]= 1
        ["timer.out_cont_time"]= 2
        ["minmax_elem.out_max_index"]= 4
        ["minmax_elem.out_max_value"]= 5
        ["ngnet_nonzero_cnt.out_y"]= 7
        ["tr_state.out_x"]= 9
        ["ngnet_nonzero.out_y"]= 11
      }
    PutBlankData = true
  }


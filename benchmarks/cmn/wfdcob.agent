// WF-DCOB
// NOTE:  out_extract_proportional should be connected to MBasisFunctionsDCOBNGnet-ngnet.in_extract_proportional

composite MWFDCOB
{
  module  MBFTrans                           bftrans
  module  MVectorShuffler_TRealVector        Cp
  module  MVectorShuffler_TRealVector        Cd

  /// initialization process:
  export   bftrans.slot_initialize  as_is

  /// start of episode process:

  /// start of time step process:
  export   bftrans.slot_start_time_step  as_is

  /// end of time step process:
  export   bftrans.slot_finish_time_step  as_is

  /// learning signals:
  export   bftrans.slot_execute_action  as_is
  export   bftrans.signal_execute_command  as_is
  export   bftrans.signal_end_of_action  as_is

  /// I/O:
  export   bftrans.in_feature  as_is
  export   bftrans.in_state  as_is
  export   bftrans.in_distance_to_nearest_bf  as_is
  connect  Cp.out_f2 , bftrans.in_extract_proportional
  connect  Cd.out_f2 , bftrans.in_extract_derivative
  export   Cp.out_f2  as  out_extract_proportional

  /// parameter setting:

  bftrans.config ={
      SetTargetByState = false
    }

  export bftrans.config.AbbreviateTrajectory     as_is
  export bftrans.config.ProportionalDim          as_is
  export bftrans.config.TrajectoryGeneratorType  as_is
  export bftrans.config.ZeroUnspecifiedState     as_is

  export Cp.config.Order  as  Cp
  export Cd.config.Order  as  Cd
}
